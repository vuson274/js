<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>
<body>
    <div>
        <form>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Nhập số</label>
              <input type="number" class="form-control" id="number" aria-describedby="emailHelp">
            </div>
            <button type="submit" class= "btn btn-primary" onclick="check();">kiểm tra</button>
          </form>
          <hr>
          <form>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Nhập email</label>
              <input type="text" class="form-control" id="email" aria-describedby="emailHelp">
            </div>
            <button type="submit" class= "btn btn-primary" onclick="checkEmail();">kiểm tra</button>
          </form>
          <hr>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Nhập chuỗi</label>
              <input type="text" class="form-control" id="str" aria-describedby="emailHelp">
            </div>
            <button  class= "btn btn-primary" onclick="checkStr();">kiểm tra</button>
          <div id = "test"></div>
    </div>
    <script>
        function check(){
            let number = document.getElementById('number').value;
            var flag = true;
            var total = 0;
            if (number < 2){
                flag = false;
            }
            else if (number == 2){
                flag = true;
            }
            else if (number % 2 == 0){
            flag = false;
            }
            else{
                for (var i = 3; i < Math.sqrt(number); i+=2)
                {
                    if (n % i == 0){
                        flag = false;
                        break;
                    }
                }
            }
            for (var i = 1 ; i <= number/2 ; i++)
                {
                    if (number % i == 0){
                        total += i;
                    }
                }
            switch (flag) {
                case true:
                        if (total == number) {
                            alert(number + 'là số nguyên tố, là số hoàn hảo');
                        } else{
                            alert(number + 'là số nguyên tố, không là số hoàn hảo');
                        }
                    break;
                default:
                        if (total == number) {
                            alert(number + 'không là số nguyên tố, là số hoàn hảo');
                        } else{
                            alert(number + 'không là số nguyên tố, không là số hoàn hảo');
                        }
                    break;
            }
		}
    </script>
    <script>
        function increase(array) {
            var size = array.length;
            for (var i = 0; i < size - 1; i++) {
                for (var j = 0; j < size - i - 1; j++) {
                    if (array[j] > array[j + 1]) {
                        var temp = array[j];
                        array[j] = array[j + 1];
                        array[j + 1] = temp;
                    }
                }
            }
        }
        function reduce(array){
            var size = array.length;
            for (var i = 0; i < size - 1; i++) {
                for (var j = 0; j < size - i - 1; j++) {
                    if (array[j] < array[j + 1]) {
                        var temp = array[j];
                        array[j] = array[j + 1];
                        array[j + 1] = temp;
                    }
                }
            }
        }
        const arr = [10, 2, 3, 2, 5];
        console.log(arr);
        increase(arr);
        reduce(arr);
        console.log(arr);
        console.log(arr);
    </script>
    <script>
        function reverse(str){
            var arr = str.split("");
            var arr1 = arr.reverse();
            var string = arr1.join("");
            console.log(string);
        }
        let rawStr = "Hello CY VietNam";
        console.log(rawStr);
        reverse(rawStr);
    </script>
    <script>
        function checkEmail(){
            var email =  document.getElementById('email').value;
            var regexEmail = /[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}/igm;
            if(email == '' || email == null){
                alert('Email không được để trống');
            }else if(!regexEmail.test(email)){
                alert('Email sai định dạng');

            }else{
                alert('Email đúng định dạng');
            }
        }
    </script>
    <script>
        let arr1 = [
            {
                brand:'Huyndai',
                model:'Santafe'
            },{
                brand:'Huyndai',
                model:'sonata'
            },{
                brand:'Vinfast',
                model:'Lux SA'
            },{
                brand:'Toyota',
                model:'Camry'
            },{
                brand:'Vinfast',
                model:'Lux SA'
            },{
                brand:'Toyota',
                model:'Vios'
            }
        ];
        console.log(arr1);
        var arr2 =[];
        var arr3 =[];
        var arr4 =[];
        arr1.forEach(element => {
            if(element['brand'] == 'Huyndai'){
                arr2.push(element);
            }
            if(element['brand'] == 'Vinfast'){
                arr3.push(element);
            }
            if(element['brand'] == 'Toyota'){
                arr4.push(element);
            }
            
        });
        var newArr = [];
        newArr.push(arr2,arr3,arr4);
        console.log(newArr);
    </script>
    <script>
          function checkStr(){
            let str = document.getElementById('str').value;
            let str1 = str.replace(/[@!^&\/\\#,+()$~%.'":*?<>{}]/g,);
            str1 = str1.trim();
            let arr = str1.split(" ");
            arr = arr.reverse();
            let arr2 =[];
            for (let i = 0; i < arr.length; i++) {
               arr2.push(arr[i].charAt(0).toUpperCase() + arr[i].slice(1));
            }
            console.log(arr2);
            let str2 = str.replace(/[^0-9-' ']/g, "");
            str2.trim();
            let arr3 = str2.split(" ");
            let sum = 0;
            for (let i = 0; i < arr3.length; i++) {
                sum += Number(arr3[i]);
            }
            let avg = sum/arr3.length;
            avg = avg.toFixed(1)
            console.log(avg);

        }
    </script>
</body>
</html>